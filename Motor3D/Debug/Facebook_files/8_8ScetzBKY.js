/*!CK:2577604898!*//*1400708494,178158661*/

if (self.CavalryLogger) { CavalryLogger.start_js(["PGu74"]); }

__d("SearchPeopleSeeMore",["fbt","TokenizeUtil","URI"],function(a,b,c,d,e,f,g,h,i){var j=3;function k(l,m){"use strict";this.results=l;this.seeMoreUri=m;}k.prototype.addResult=function(){"use strict";var l=null,m=0,n=[];for(var o=0;o<this.results.length;o++){var p=this.results[o];if(p.type!='user')break;m++;if(!l){l=p.text;}else l=this.findCommonTokens(l,p.text);if(!l)break;n.push(p);}if(l&&m>=j)n.push(this.createFindAllPeopleResult(l));for(;o<this.results.length;o++)n.push(this.results[o]);return n;};k.prototype.createFindAllPeopleResult=function(l){"use strict";var m=g._("Find all people named \"{query}\"",[g.param("query",l.toLowerCase())]),n=i(this.seeMoreUri).addQueryData({q:l}).toString();return {type:'user',text:m,classNames:'seeAllUser',photo:'/images/search_typeahead/people_see_more.png',logType:'grammar',path:n};};k.prototype.findCommonTokens=function(l,m){"use strict";if(!l||!m)return;var n=h.tokenize(l),o=h.tokenize(m),p=0;for(var q=0;q<n.length&&q<o.length;q++)if(n[q]===o[q]){p++;}else break;if(!p)return null;if(p===n.length)return l;if(p===o.length)return m;var r='';for(var s=0;s<p;s++)r=n[s]+'';return r.trim();};e.exports=k;});